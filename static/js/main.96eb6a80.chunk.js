(this["webpackJsonpstaff-roster"]=this["webpackJsonpstaff-roster"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,o){},function(e,t,o){},,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var n=o(1),s=o.n(n),c=o(8),r=o.n(c),a=o(2),i=o(3),l=o(5),d=o(4),u=(o(15),o(16),o(0)),m=function(e){var t=e.count;return Object(u.jsxs)("div",{className:"d-flex app-header",children:[Object(u.jsx)("h1",{children:"\u0420\u0435\u0435\u0441\u0442\u0440 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"}),Object(u.jsxs)("h2",{children:["\u0412\u0441\u0435\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432: ",t]})]})},j=o(9),b=o(10),h=(o(18),o(19),function(e){var t=e.onEdit,o=e.onDelete;return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:t,type:"button",className:"btn btn-outline-success btn-sm roster-list-item-btn",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:Object(u.jsx)("i",{className:"fa fa-pencil"})}),Object(u.jsx)("button",{onClick:o,type:"button",className:"btn btn-outline-danger btn-sm roster-list-item-btn",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",children:Object(u.jsx)("i",{className:"fa fa-trash-o"})})]})}),f=function(e){var t=e.mainInfo,o=e.job,n=e.onEdit,s=e.onDelete,c=e.onShowModal,r="".concat(t.name.first," ").concat(t.name.last," ").concat(t.name.middle),a="\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f: ".concat(o.position),i=o.dismisDate?"\u0420\u0430\u0431\u043e\u0442\u0430\u043b \u0441 ".concat(o.empDate," \u043f\u043e ").concat(o.dismisDate):"\u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441 ".concat(o.empDate);return Object(u.jsxs)("div",{className:"roster-list-item",children:[Object(u.jsxs)("span",{className:"roster-list-item-clickzone",onClick:c,children:[Object(u.jsx)("span",{className:"roster-list-item-name",children:r}),Object(u.jsxs)("span",{className:"roster-list-item-info",children:[Object(u.jsx)("p",{children:a}),Object(u.jsx)("p",{children:i})]})]}),Object(u.jsx)(h,{onEdit:n,onDelete:s})]})},O=(o(20),function(e){var t=e.workers,o=e.onEdit,n=e.onDelete,s=e.onShowModal,c=t.map((function(e){var t=e.id,c=Object(b.a)(e,["id"]);return Object(u.jsx)("li",{className:"list-group-item",children:Object(u.jsx)(f,Object(j.a)({onEdit:function(){return o(t)},onDelete:function(){return n(t)},onShowModal:function(){return s(t)}},c))},t)}));return Object(u.jsx)("ul",{className:"list-group roster-list",children:c})}),p=(o(21),function(e){Object(l.a)(o,e);var t=Object(d.a)(o);function o(){var e;return Object(a.a)(this,o),(e=t.call(this)).state={term:""},e.onTextChanged=function(t){var o=e.props.onSearch;e.setState({term:t.target.value}),o(t.target.value)},e}return Object(i.a)(o,[{key:"render",value:function(){return Object(u.jsx)("input",{type:"text",className:"form-control search-input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430...",value:this.state.term,onChange:this.onTextChanged})}}]),o}(s.a.Component)),x=(o(22),function(e){Object(l.a)(o,e);var t=Object(d.a)(o);function o(){var e;return Object(a.a)(this,o),(e=t.call(this)).buttons=[{name:"all",label:"\u0412\u0441\u0435"},{name:"stillWork",label:"\u0420\u0430\u0431\u043e\u0442\u0430\u044e\u0442"},{name:"dismissed",label:"\u0423\u0432\u043e\u043b\u0435\u043d\u044b"}],e}return Object(i.a)(o,[{key:"render",value:function(){var e=this.props,t=e.filter,o=e.onFilter,n=this.buttons.map((function(e){var n=e.name,s=e.label,c=n==t?"btn-info":"btn-outline-info";return Object(u.jsx)("button",{type:"button",className:"btn ".concat(c),onClick:function(){return o(n)},children:s},n)}));return Object(u.jsx)("div",{className:"btn-group",children:n})}}]),o}(s.a.Component)),k=(o(23),function(e){var t=e.label,o=e.type,n=e.css,s=e.onClick,c="btn form-btn "+n;return Object(u.jsx)("button",{type:o,onClick:s,className:c,children:t})}),v=(o(24),o(25),function(e){var t=e.clazz,o=e.children,n=e.closeModal,s=o.title,c=o.body,r=o.footer;return Object(u.jsx)("div",{className:"modal modal-background ".concat(t),children:Object(u.jsx)("div",{className:"modal-dialog",role:"document",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",children:s}),Object(u.jsx)("button",{onClick:n,type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(u.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(u.jsx)("div",{className:"modal-body",children:c}),Object(u.jsx)("div",{className:"modal-footer",children:r})]})})})}),g=o(6),N=function(e){Object(l.a)(o,e);var t=Object(d.a)(o);function o(){var e;return Object(a.a)(this,o),(e=t.call(this)).checkInit()||e.init(),e}return Object(i.a)(o,[{key:"getStorageItem",value:function(e){return JSON.parse(localStorage.getItem(e))}},{key:"getWorkersIds",value:function(){return this.getStorageItem("ids")}},{key:"getWorkersData",value:function(){var e=this;return this.getWorkersIds().map((function(t){return e.getStorageItem(t)}))}},{key:"getPositions",value:function(){return this.getStorageItem("positions")}},{key:"setItemToStorage",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},{key:"setId",value:function(e){var t=[].concat(Object(g.a)(this.getWorkersIds()),[e]);this.setItemToStorage("ids",t.sort())}},{key:"setWorker",value:function(e){this.setId(e.id),this.setItemToStorage(e.id,e)}},{key:"deleteId",value:function(e){var t=this.getWorkersIds().filter((function(t){return t!=e}));this.setItemToStorage("ids",t.sort())}},{key:"deleteStorageItem",value:function(e){this.deleteId(e),localStorage.removeItem(e)}}]),o}(function(){function e(){Object(a.a)(this,e),this.positions=["Junior Frontend","Middle Frontend","Senior Frontend","Junior Backend","Middle Backend","Senior Backend","Fullstack","HR-Manager"],this.workersList=[{id:"000",mainInfo:{name:{first:"\u0418\u0432\u0430\u043d\u043e\u0432",last:"\u0418\u0432\u0430\u043d",middle:"\u0418\u0432\u0430\u043d\u044b\u0447"},birthDay:"04.11.1982",sex:"male",hasDriveLicense:!1},job:{position:"Frontend",empDate:"12.02.2006",dismisDate:NaN}},{id:"001",mainInfo:{name:{first:"\u041f\u0435\u0442\u0440\u043e\u0432",last:"\u041f\u0435\u0442\u0440",middle:"\u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447"},birthDay:"17.04.1976",sex:"male",hasDriveLicense:!0},job:{position:"Backend",empDate:"19.06.2004",dismisDate:"06.10.2012"}},{id:"002",mainInfo:{name:{first:"\u0422\u0440\u0443\u0445\u0438\u043d",last:"\u0415\u0433\u043e\u0440",middle:"\u042e\u0440\u044c\u0435\u0432\u0438\u0447"},birthDay:"20.06.2000",sex:"male",hasDriveLicense:!1},job:{position:"Junior Frontend",empDate:"08.10.2020",dismisDate:NaN}}],this.ids=this.workersList.map((function(e){return e.id})),this.keys=["ids"].concat(Object(g.a)(this.ids),["positions"])}return Object(i.a)(e,[{key:"pushItemToStorage",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},{key:"getWorkerWithoutId",value:function(e){var t=this.workersList.find((function(t){return t.id===e}));return{mainInfo:t.mainInfo,job:t.job}}},{key:"checkInit",value:function(){return this.keys.every((function(e){return null!=localStorage.getItem(e)}))}},{key:"init",value:function(){var e=this;this.keys.forEach((function(t){if(!localStorage.getItem(t))switch(t){case"ids":e.pushItemToStorage(t,e.ids);break;case"positions":e.pushItemToStorage(t,e.positions);break;default:e.pushItemToStorage(t,e.workersList.find((function(e){return e.id===t})))}}))}}]),e}()),y=function(e){Object(l.a)(o,e);var t=Object(d.a)(o);function o(){var e;return Object(a.a)(this,o),(e=t.call(this))._storage=new N,e}return Object(i.a)(o,[{key:"render",value:function(){var e=this.props,t=e.showModalAddWorker,o=e.closeModal,n=this._storage.getPositions().map((function(e,t){return Object(u.jsx)("option",{children:e},t)})),s={title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",body:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0424\u0418\u041e"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"\u0418\u043c\u044f"}),Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"})]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"job-select",children:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"}),Object(u.jsx)("select",{className:"custom-select",id:"job-select",children:n})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("legend",{children:"\u041f\u043e\u043b"}),Object(u.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(u.jsx)("input",{type:"radio",className:"custom-control-input",name:"optionsSex",id:"optionMale",value:"male",defaultChecked:!0}),Object(u.jsx)("label",{className:"custom-control-label",htmlFor:"optionMale",children:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439"})]}),Object(u.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(u.jsx)("input",{type:"radio",className:"custom-control-input",name:"optionsSex",id:"optionFemale",value:"female"}),Object(u.jsx)("label",{className:"custom-control-label",htmlFor:"optionFemale",children:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439"})]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("legend",{children:"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u043f\u0440\u0430\u0432"}),Object(u.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(u.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"noLic",defaultChecked:!0}),Object(u.jsx)("label",{className:"custom-control-label",htmlFor:"noLic",children:"\u041d\u0435\u0442"})]}),Object(u.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(u.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"cat-A"}),Object(u.jsx)("label",{className:"custom-control-label",htmlFor:"cat-A",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0410"})]}),Object(u.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(u.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"cat-B"}),Object(u.jsx)("label",{className:"custom-control-label",htmlFor:"cat-B",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0412"})]}),Object(u.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(u.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"cat-C"}),Object(u.jsx)("label",{className:"custom-control-label",htmlFor:"cat-C",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0421"})]})]})]}),footer:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k,{label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",type:"submit",css:"btn-sm btn-primary"}),Object(u.jsx)(k,{label:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",type:"button",css:"btn-sm btn-outline-secondary",onClick:this.props.closeModal})]})};return Object(u.jsx)(u.Fragment,{children:t?Object(u.jsx)(v,{children:s,closeModal:o,clazz:"add-worker-form"}):null})}}]),o}(s.a.Component),I=(o(26),function(e){var t=e.showModalWorkerInfo,o=e.closeModal,n=e.currID,s=new N,c=null;if(t){var r=s.getStorageItem(n),a=r.mainInfo,i=r.job,l="".concat(a.name.first," ").concat(a.name.last," ").concat(a.name.middle);c=Object(u.jsxs)("p",{children:["\u0424\u0418\u041e: ",l,"\u041f\u043e\u043b: ","male"===a.sex?"\u041c\u0443\u0436\u0441\u043a\u043e\u0439":"\u0416\u0435\u043d\u0441\u043a\u0438\u0439","\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f: ",a.birthDay,"\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u043f\u0440\u0430\u0432\u0430: ",a.hasDriveLicense?"\u0415\u0441\u0442\u044c":"\u041d\u0435\u0442","\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c: ",i.position,"\u0414\u0430\u0442\u0430 \u043f\u0440\u0438\u0435\u043c\u0430: ",i.empDate,"\u0414\u0430\u0442\u0430 \u0443\u0432\u043e\u043b\u044c\u043d\u0435\u043d\u0438\u044f: ",i.dismisDate?i.dismisDate:"-"]})}var d={title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0435",body:c,footer:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(h,{}),Object(u.jsx)("div",{children:Object(u.jsx)(k,{label:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",type:"button",css:"btn-secondary btn-sm",onClick:o})})]})};return Object(u.jsx)(u.Fragment,{children:t?Object(u.jsx)(v,{children:d,closeModal:o,clazz:"worker-info"}):null})}),w=function(e){Object(l.a)(o,e);var t=Object(d.a)(o);function o(){var e;return Object(a.a)(this,o),(e=t.call(this))._storage=new N,e.state={workersList:e._storage.getWorkersData(),search:"",filter:"all",currID:null,showModalWorkerInfo:!1,showModalAddWorker:!1},e.showWorkerInfo=function(t){e.setState((function(e){var o=e.showModalWorkerInfo;return{currID:t,showModalWorkerInfo:!o}}))},e.showAddForm=function(){e.setState((function(e){return{showModalAddWorker:!e.showModalAddWorker}}))},e.onDeleteWorker=function(t){e.setState((function(o){return e._storage.deleteStorageItem(t),{workersList:e._storage.getWorkersData()}}))},e.onSearch=function(t){e.setState({search:t})},e.onFilter=function(t){e.setState({filter:t})},e.search=function(e,t){return 0==t.length?e:e.filter((function(e){return e.mainInfo.name.first.toLowerCase().indexOf(t.toLowerCase())>-1||e.mainInfo.name.last.toLowerCase().indexOf(t.toLowerCase())>-1||e.mainInfo.name.middle.toLowerCase().indexOf(t.toLowerCase())>-1}))},e.filter=function(e,t){return"all"==t?e:"stillWork"==t?e.filter((function(e){return null===e.job.dismisDate})):e.filter((function(e){return null!=e.job.dismisDate}))},e}return Object(i.a)(o,[{key:"render",value:function(){var e=this.state,t=e.workersList,o=e.search,n=e.filter,s=this.filter(this.search(t,o),n);return Object(u.jsxs)("div",{className:"staff-roster-app card border-light mb-3",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)(m,{count:t.length})}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsxs)("div",{className:"top-panel d-flex",children:[Object(u.jsx)(p,{onSearch:this.onSearch}),Object(u.jsx)(x,{filter:n,onFilter:this.onFilter})]}),Object(u.jsx)(O,{workers:s,onEdit:this.onEditWorker,onDelete:this.onDeleteWorker,onShowModal:this.showWorkerInfo}),Object(u.jsx)(k,{label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",type:"button",css:"btn-primary float-right",onClick:this.showAddForm})]}),Object(u.jsx)(y,{showModalAddWorker:this.state.showModalAddWorker,closeModal:this.showAddForm}),Object(u.jsx)(I,{showModalWorkerInfo:this.state.showModalWorkerInfo,closeModal:this.showWorkerInfo,currID:this.state.currID})]})}}]),o}(s.a.Component);r.a.render(Object(u.jsx)(w,{}),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.96eb6a80.chunk.js.map